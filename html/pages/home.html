<div class="landing">
	<div class="content">
		<div class="create">
			<h2>Get started now by creating a new kite design!</h2>
			<a ui-sref="create" class="button action">Get Started</a>
		</div>
	</div>
</div>
<div class="user" ng-hide="$root.user">
	<div class="content" ng-show="$root.has_account && !$root.user">
		<div class="left">
			<h2>Welcome Back!</h2>
			<p>Sign in to get back to your saved designs.</p>
		</div>
		<form class="right login" ng-hide="$root.lost_password" ng-submit="$root.login()">
			<p class="success" ng-show="$root.reset_status === 'reset'">Your password has been reset. An email has been sent to {{$root.reset.email}}.</p>
			<label for="home-input-username">Username</label>
			<input
				type="text"
				id="home-input-username"
				name="username"
				ng-model="$root.sign_in.username"
				required
				ng-pattern="/^[A-Za-z0-9_\-]+$/"
				ng-minlength="3"
				ng-maxlength="30"
			/>
			<label for="home-input-password">Password <tooltip content="password"></tooltip></label>
			<input
				type="password"
				id="home-input-password"
				name="password"
				ng-model="$root.sign_in.password"
				required
				ng-minlength="6"
				ng-maxlength="15"
				ng-pattern="/[A-Za-z0-9@*#.]/"
			/>
			<input type="submit" class="button action" ng-hide="$root.login_loading" value="Sign In" />
			<button class="button action" ng-show="$root.login_loading">Signing In</button>
			<p><a ng-click="$root.lost_password=true">Lost Password?</a></p>
			<p><a ng-click="$root.has_account = false">Register</a></p>
		</form>
		<form class="right lost-password" ng-show="$root.lost_password" ng-submit="$root.reset_password();">
			<p class="error" ng-show="$root.reset_status === 'invalid' && $root.reset_message">{{$root.reset_message}}</p>
			<div>
				<p>Enter your username and email to reset your password.</p>
				<br/>
				<label for="home-reset-username">Username</label>
				<input
					type="text"
					id="home-reset-username"
					ng-model="$root.reset.username"
					required
					ng-pattern="/^[A-Za-z0-9_\-]+$/"
					ng-minlength="3"
					ng-maxlength="30"
				/>
				<label for="home-reset-email">Email</label>
				<input
					type="text"
					id="home-reset-email"
					ng-model="$root.reset.email"
					required
				/>
				<input type="submit" class="button action" ng-hide="$root.resetting" value="Reset Password" />
				<button class="button action" ng-show="$root.resetting">Resetting Password</button>
				<p><a ng-click="$root.lost_password = false">Cancel</a></p>
			</div>
		</form>
		<div class="clearfix"></div>
	</div>
	<div class="content register" ng-show="!$root.has_account && !$root.user">
		<div class="left">
			<h2>Create an Account</h2>
			<p>By creating a free account, you get access to features such as:</p>
			<ul>
				<li>Saving your designs</li>
				<li>Sharing your designs with the world</li>
				<li>More to come!</li>
			</ul>
		</div>
		<form class="right" ng-submit="$root.register()">
			<div ng-show="$root.register_status !== 'registered'">
				<label for="home-register-username">Username <tooltip content="username"></tooltip></label>
				<input
					type="text"
					id="home-register-username"
					name="username"
					ng-model="$root.register.username"
					placeholder="e.g. JoeBob86"
					required
					ng-pattern="/^[A-Za-z0-9_\-]+$/"
					ng-minlength="3"
					ng-maxlength="30"
				/>
				<label for="home-register-email">Email Address</label>
				<input
					type="email"
					id="home-register-email"
					name="email"
					ng-model="$root.register.email"
					placeholder="e.g. joe@bob.com"
					required
				/>
				<label for="home-register-password">Password <tooltip content="password"></tooltip></label>
				<input
					type="password"
					id="home-register-password"
					name="password"
					ng-model="$root.register.password"
					required
					ng-minlength="6"
					ng-maxlength="15"
					ng-pattern="/[A-Za-z0-9@*#.]/"
				/>
				<label for="home-register-password-2">Confirm Password <tooltip content="password"></tooltip></label>
				<input
					type="password"
					id="home-register-password-2"
					name="password2"
					ng-model="$root.register.password2"
					required
					ng-minlength="6"
					ng-maxlength="15"
					ng-pattern="/[A-Za-z0-9@*#.]/"
				/>
				<input type="submit" class="button action" ng-hide="$root.registering" value="Sign Up" />
				<button class="button action" ng-show="$root.registering">Signing Up</button>
				<p><a href="docs/KitePaintTermsandConditions.pdf" target="_blank">Terms and Conditions</a></p>
				<p>Already registered? <a ng-click="$root.has_account = true">Sign In</a></p>
			</div>
			<p class="success" ng-show="$root.register_status === 'registered'">You have successfully registered! An activation email has been sent to your inbox. You may log in once your account has been activated.</p>
		</form>
		<div class="clearfix"></div>
	</div>
</div>
<div class="designs">
	<div class="content" ng-show="designs">
		<h2>Recent Designs</h2>
		<ul>
			<a ng-repeat="design in designs" ui-sref="view({id:{{design.id}}})">
				<li class="design">
					<div ng-bind-html="design.primary.svg"></div>
					<p>{{design.name}}</p>
				</li>
			</a>
			<div class="clearfix"></div>
		</ul>
		<a ui-sref="designs">See All</a>
		<div class="clearfix"></div>
	</div>
</div>
